server:
  port: 8081
  shutdown: graceful # 처리 중인 요청을 중간에 끊지 않고 안전하게 마무리하기 위함

spring:
  profiles:
    active: ${PROFILE:local}

  lifecycle:
    timeout-per-shutdown-phase: "60s" # 60초 동안 현재 처리 중인 요청을 기다림

  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    hibernate:
      ddl-auto: validate

    properties:
      hibernate:
        format_sql: false
        show_sql: false
        order_inserts: true
        order_updates: true
        jdbc:
          batch_size: 100

    database-platform: org.hibernate.dialect.MySQL8Dialect
    open-in-view: false

  mail:
    host: smtp.gmail.com
    port: 587
    username: ${MAIL_USERNAME}
    password: ${MAIL_PASSWORD}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
          connectiontimeout: 5000
          timeout: 5000
          writetimeout: 5000

  data:
    redis:
      host: ${REDIS_HOST}
      port: ${REDIS_PORT}
      password: ${REDIS_PASSWORD}
      timeout: 3000ms
      lettuce:
        pool:
          max-active: 8
          max-idle: 8
          min-idle: 0

  liquibase:
    enabled: true
    change-log: classpath:db/changelog-auth/master.xml

jwt:
  secret: ${JWT_SECRET}
  access-exp: 3600
  refresh-exp: 604800
  header: Authorization
  prefix: "Bearer "

teacher:
  signup-secret: ${TEACHER_SIGNUP_SECRET}
